{"ast":null,"code":"import ToDoItem from \"./ToDoItem\";\nclass ToDo {\n  constructor() {\n    this.items = this.loadFromLocalStorage();\n  }\n  add(item) {\n    this.items.push(item);\n    this.saveToLocalStorage();\n    return this.items;\n  }\n  delete(item) {\n    this.items.splice(this.items.indexOf(item), 1);\n    this.saveToLocalStorage();\n    return this.items;\n  }\n  changeState(item) {\n    item.completed = !item.completed;\n    this.saveToLocalStorage();\n    return this.items;\n  }\n  saveToLocalStorage() {\n    localStorage.setItem('todo-data', JSON.stringify(this.items));\n  }\n  loadFromLocalStorage() {\n    var json = localStorage.getItem('todo-data');\n    if (json === null) return [];\n    let jsonParsed = JSON.parse(json, (key, value) => {\n      if (key === \"date\") {\n        value = new Date(value);\n      }\n      return value;\n    });\n    if (jsonParsed.length === 0) return [];\n    let toDoItems = [];\n    for (let i = 0; i < jsonParsed.length; i++) {\n      toDoItems.push(ToDoItem.fromJSON(jsonParsed[i]));\n    }\n    return toDoItems;\n  }\n}\nexport default ToDo;","map":{"version":3,"mappings":"AAAA,OAAOA,QAAQ,MAAM,YAAY;AAEjC,MAAMC,IAAI;EAENC;IACI,IAAI,CAACC,KAAK,GAAG,IAAI,CAACC,oBAAoB,EAAE;EAC5C;EAEAC,GAAG,CAACC,IAAS;IACT,IAAI,CAACH,KAAK,CAACI,IAAI,CAACD,IAAI,CAAC;IACrB,IAAI,CAACE,kBAAkB,EAAE;IAEzB,OAAO,IAAI,CAACL,KAAK;EACrB;EAEAM,MAAM,CAACH,IAAS;IACZ,IAAI,CAACH,KAAK,CAACO,MAAM,CAAC,IAAI,CAACP,KAAK,CAACQ,OAAO,CAACL,IAAI,CAAC,EAAE,CAAC,CAAC;IAC9C,IAAI,CAACE,kBAAkB,EAAE;IAEzB,OAAO,IAAI,CAACL,KAAK;EAErB;EAEAS,WAAW,CAACN,IAA6B;IACrCA,IAAI,CAACO,SAAS,GAAG,CAACP,IAAI,CAACO,SAAS;IAChC,IAAI,CAACL,kBAAkB,EAAE;IAEzB,OAAO,IAAI,CAACL,KAAK;EAErB;EAEAK,kBAAkB;IACdM,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACd,KAAK,CAAC,CAAC;EACjE;EAEAC,oBAAoB;IAChB,IAAIc,IAAI,GAAGJ,YAAY,CAACK,OAAO,CAAC,WAAW,CAAC;IAE5C,IAAID,IAAI,KAAK,IAAI,EACb,OAAO,EAAE;IAEb,IAAIE,UAAU,GAAGJ,IAAI,CAACK,KAAK,CAACH,IAAI,EAAE,CAACI,GAAG,EAAEC,KAAK,KAAI;MAC7C,IAAGD,GAAG,KAAK,MAAM,EAAC;QACdC,KAAK,GAAG,IAAIC,IAAI,CAACD,KAAK,CAAC;;MAE3B,OAAOA,KAAK;IAChB,CAAC,CAAC;IAEF,IAAIH,UAAU,CAACK,MAAM,KAAK,CAAC,EACvB,OAAO,EAAE;IAEb,IAAIC,SAAS,GAAG,EAAE;IAElB,KAAI,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,UAAU,CAACK,MAAM,EAAEE,CAAC,EAAE,EAAE;MACvCD,SAAS,CAACnB,IAAI,CAACP,QAAQ,CAAC4B,QAAQ,CAACR,UAAU,CAACO,CAAC,CAAC,CAAC,CAAC;;IAGpD,OAAOD,SAAS;EACpB;;AAGJ,eAAezB,IAAI","names":["ToDoItem","ToDo","constructor","items","loadFromLocalStorage","add","item","push","saveToLocalStorage","delete","splice","indexOf","changeState","completed","localStorage","setItem","JSON","stringify","json","getItem","jsonParsed","parse","key","value","Date","length","toDoItems","i","fromJSON"],"sourceRoot":"","sources":["C:\\xampp\\htdocs\\FRONTEND\\JS APP DEV\\ANGULAR-to-do\\todo-app\\src\\app\\model\\ToDo.ts"],"sourcesContent":["import ToDoItem from \"./ToDoItem\";\r\n\r\nclass ToDo {\r\n    items: any;\r\n    constructor(){\r\n        this.items = this.loadFromLocalStorage();\r\n    }\r\n\r\n    add(item: any){\r\n        this.items.push(item);\r\n        this.saveToLocalStorage();\r\n\r\n        return this.items;\r\n    }\r\n\r\n    delete(item: any){\r\n        this.items.splice(this.items.indexOf(item), 1);\r\n        this.saveToLocalStorage();\r\n\r\n        return this.items;\r\n\r\n    }\r\n\r\n    changeState(item: { completed: boolean; }){\r\n        item.completed = !item.completed;\r\n        this.saveToLocalStorage();\r\n\r\n        return this.items;\r\n\r\n    }\r\n\r\n    saveToLocalStorage(){\r\n        localStorage.setItem('todo-data', JSON.stringify(this.items));\r\n    }\r\n\r\n    loadFromLocalStorage(){\r\n        var json = localStorage.getItem('todo-data');\r\n\r\n        if (json === null)\r\n            return [];\r\n\r\n        let jsonParsed = JSON.parse(json, (key, value) => {\r\n            if(key === \"date\"){\r\n                value = new Date(value);\r\n            }\r\n            return value;\r\n        });\r\n\r\n        if (jsonParsed.length === 0)\r\n            return [];\r\n\r\n        let toDoItems = [];\r\n\r\n        for(let i = 0; i < jsonParsed.length; i++) {\r\n            toDoItems.push(ToDoItem.fromJSON(jsonParsed[i]));\r\n        }\r\n\r\n        return toDoItems;\r\n    }\r\n}\r\n\r\nexport default ToDo;\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}