{"ast":null,"code":"import ToDoItem from \"./ToDoItem\";\nclass ToDo {\n  constructor() {\n    this.items = this.loadFromLocalStorage();\n  }\n  add(item) {\n    this.items.push(item);\n    this.saveToLocalStorage();\n    return this.items;\n  }\n  delete(item) {\n    this.items.splice(this.items.indexOf(item), 1);\n    this.saveToLocalStorage();\n    return this.items;\n  }\n  changeState(item) {\n    item.completed = !item.completed;\n    this.saveToLocalStorage();\n    return this.items;\n  }\n  saveToLocalStorage() {\n    localStorage.setItem('todo-data', JSON.stringify(this.items));\n  }\n  loadFromLocalStorage() {\n    var json = localStorage.getItem('todo-data');\n    if (json === null) return [];\n    let jsonParsed = JSON.parse(json, (key, value) => {\n      if (key === \"date\") {\n        value = new Date(value);\n      }\n      return value;\n    });\n    if (jsonParsed.length === 0) return [];\n    let toDoItems = [];\n    for (let i = 0; i < jsonParsed.length; i++) {\n      toDoItems.push(ToDoItem.fromJSON(jsonParsed[i]));\n    }\n    return toDoItems;\n  }\n}\nexport default ToDo;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}